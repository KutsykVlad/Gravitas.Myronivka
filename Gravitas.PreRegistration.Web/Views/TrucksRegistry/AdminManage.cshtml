@model Gravitas.PreRegistration.Web.Models.Administrative.UsersVm

<div class="container">

    <div class="row justify-content-center">
        <div class="col-3 text-lg-center"> <div class="text-capitalize inline"><h4>Редактор дозволу на реєстрацію</h4></div></div>
    </div>

    <table class="table">
        <thead class="thead-light">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Items.FirstOrDefault().Email)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Items.FirstOrDefault().PartnerName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Items.FirstOrDefault().IsAllowedToRegister)
                </th>
            </tr>
        </thead>
        <tbody>
            @using (Html.BeginForm("AdminManagePost", "TrucksRegistry", FormMethod.Post, new { vm = Model }))
            {
                for (int i = 0; i < Model.Items.Count; i++)
                {
                    <tr>
                        <td>
                            @Html.HiddenFor(model => model.Items[i].Id)
                            @Html.EditorFor(model => Model.Items[i].Email, new { htmlAttributes = new { @data_val = "false", @class = "form-control", @readonly = "true" } })
                        </td>
                        <td>
                            @Html.EditorFor(model => Model.Items[i].PartnerName, new { htmlAttributes = new { @data_val = "false", @class = "form-control", @readonly = "true" } })
                        </td>
                        <td>
                            @Html.EditorFor(model => Model.Items[i].IsAllowedToRegister, new { htmlAttributes = new { @class = "form-control", @min = "0" } })
                        </td>
                    </tr>
                }
                <tr>
                    <td colspan="4"><button class="btn-primary btn btn-block">Змінити</button></td>
                </tr>
            }
        </tbody>
    </table>
</div>